<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscrição para o Torneio de Dead by Daylight</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --survivor-red: #ff4d4d;
            --survivor-border: #4a0e0e;
            --survivor-shadow: rgba(255, 0, 0, 0.3);
            --killer-red: #e02424;
            --killer-border: #6d0000;
            --killer-shadow: rgba(180, 20, 20, 0.5);
        }
        /* Estilos Gerais */
        body {
            margin: 0; padding: 0; font-family: 'Roboto', sans-serif;
            color: #f0f0f0;
            background-image: url('https://i.postimg.cc/2SMrnMNr/f4u8dkukix561.jpg');
            background-color: #000;
            background-size: cover; background-position: center; background-attachment: fixed;
            display: flex; justify-content: center; align-items: center; min-height: 100vh;
            backdrop-filter: blur(3px) brightness(0.7);
            -webkit-backdrop-filter: blur(3px) brightness(0.7);
            overflow: hidden;
            transition: background-image 1s ease-in-out, backdrop-filter 1s ease-in-out;
            position: relative;
        }
        body.killer-mode {
            background-image: none;
            backdrop-filter: blur(0px) brightness(0.5);
            -webkit-backdrop-filter: blur(0px) brightness(0.5);
        }

        /* Container do Formulário */
        .form-container {
            background-color: rgba(15, 15, 15, 0.85);
            padding: 40px; border-radius: 10px;
            width: 100%; max-width: 700px;
            margin: 40px 20px; transition: all 0.5s ease-in-out;
            z-index: 10;
        }
        .form-container.survivor-theme { box-shadow: 0 0 25px var(--survivor-shadow); border: 2px solid var(--survivor-border); }
        .form-container.killer-theme {
            background-color: rgba(15, 0, 0, 0.88);
            box-shadow: 0 0 35px var(--killer-shadow);
            border: 2px solid var(--killer-border);
        }
        
        .role-selector { display: flex; justify-content: center; margin-bottom: 30px; border-bottom: 1px solid #444; padding-bottom: 30px; }
        .role-btn { background: none; border: 2px solid #555; color: #aaa; padding: 10px 30px; font-size: 1.2rem; font-weight: bold; cursor: pointer; transition: all 0.3s ease; }
        .role-btn:first-child { border-radius: 10px 0 0 10px; }
        .role-btn:last-child { border-radius: 0 10px 10px 0; border-left: none; }
        .role-btn.active { color: white; }
        .role-btn.active.survivor-btn { background-color: var(--survivor-border); border-color: var(--survivor-border); }
        .role-btn.active.killer-btn { background-color: var(--killer-border); border-color: var(--killer-border); }

        .form-header h1 { font-family: 'Creepster', cursive; font-size: 3.5rem; margin: 0; text-align: center; text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.8); transition: color 0.5s ease; }
        .form-container.survivor-theme .form-header h1 { color: var(--survivor-red); }
        .form-container.killer-theme .form-header h1 { color: var(--killer-red); }
        
        .form-section { display: none; }
        .form-section.active { display: block; animation: fadeIn 0.8s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: bold; color: #ddd; font-size: 0.9rem; text-transform: uppercase; }
        .form-group input { width: 100%; padding: 12px; background-color: rgba(0, 0, 0, 0.4); border: 1px solid #555; border-radius: 5px; color: #fff; font-size: 1rem; transition: border-color 0.3s, box-shadow 0.3s; box-sizing: border-box; }
        .form-group input:focus { outline: none; }
        .survivor-theme .form-group input:focus { border-color: var(--survivor-red); box-shadow: 0 0 10px var(--survivor-shadow); }
        .killer-theme .form-group input:focus { border-color: var(--killer-red); box-shadow: 0 0 10px var(--killer-shadow); }

        .team-section h2 { font-family: 'Creepster', cursive; font-size: 2rem; margin: 30px 0 15px 0; text-align: center; }
        .survivor-theme .team-section h2 { color: var(--survivor-red); }
        .killer-theme .team-section h2 { color: var(--killer-red); }

        .member-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
        .member-card { background-color: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 5px; border: 1px solid #333; }
        .member-card label { font-size: 0.8rem; color: #aaa; }

        .submit-btn { width: 100%; padding: 15px; border: none; border-radius: 5px; color: #fff; font-size: 1.2rem; font-weight: bold; text-transform: uppercase; cursor: pointer; transition: background-color 0.3s, transform 0.2s, box-shadow 0.3s; margin-top: 20px; letter-spacing: 1px; }
        .survivor-theme .submit-btn { background-color: #8B0000; }
        .survivor-theme .submit-btn:hover { background-color: var(--survivor-red); transform: translateY(-2px); box-shadow: 0 5px 15px var(--survivor-shadow); }
        .killer-theme .submit-btn { background-color: var(--killer-border); animation: pulse-red 2.5s infinite; }
        .killer-theme .submit-btn:hover { background-color: var(--killer-red); transform: translateY(-2px); box-shadow: 0 5px 15px var(--killer-shadow); animation-play-state: paused; }
        
        @keyframes pulse-red {
            0% { box-shadow: 0 0 0 0 rgba(212, 20, 20, 0.7); }
            70% { box-shadow: 0 0 15px 10px rgba(212, 20, 20, 0); }
            100% { box-shadow: 0 0 0 0 rgba(212, 20, 20, 0); }
        }

        /* ## ANIMAÇÃO DOS CORVOS - CORREÇÃO DEFINITIVA ## */
        #crow-sky {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 1;
            display: none;
        }
        body.killer-mode #crow-sky {
            display: block;
        }
        .crow {
            position: absolute;
            width: 80px;
        }
        
        .crow-1 { top: 10%; animation: fly-left 15s linear -5s infinite; }
        .crow-2 { top: 75%; width: 60px; animation: fly-right 20s linear -10s infinite; }
        .crow-3 { top: 40%; width: 90px; animation: fly-left 17s linear 0s infinite; }
        .crow-4 { top: 20%; width: 55px; animation: fly-right 22s linear -18s infinite; }
        .crow-5 { top: 85%; width: 75px; animation: fly-left 19s linear -8s infinite; }

        @keyframes fly-left {
            from { transform: translateX(110vw) scaleX(-1); }
            to { transform: translateX(-10vw) scaleX(-1); }
        }
        @keyframes fly-right {
            from { transform: translateX(-10vw) scaleX(1); }
            to { transform: translateX(110vw) scaleX(1); }
        }
        /* ## FIM DA CORREÇÃO ## */

        /* Pop-up */
        #popup { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); display: none; justify-content: center; align-items: center; z-index: 2000; }
        .popup-content { background-color: #1a1a1a; padding: 30px 40px; border-radius: 10px; text-align: center; border: 2px solid #8B0000; box-shadow: 0 0 30px rgba(255, 0, 0, 0.5); animation: popup-anim 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55); transform: scale(0); }
        @keyframes popup-anim { 0% { transform: scale(0.7); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
        .popup-content h2 { font-family: 'Creepster', cursive; color: var(--survivor-red); font-size: 2.5rem; margin-top: 0; }
        .popup-content p { color: #ccc; font-size: 1.1rem; }
    </style>
</head>
<body>
    <div id="crow-sky">
        <img class="crow crow-1" src="https://i.postimg.cc/zDkgs0XS/crow-flying-2023-11-27-05-32-45-utc.gif" alt="Corvo voando">
        <img class="crow crow-2" src="https://i.postimg.cc/HxgrK7qh/black-raven-gliding-and-flying-loop-down-angle-2023-11-27-05-22-31-utc.gif" alt="Corvo voando">
        <img class="crow crow-3" src="https://i.postimg.cc/zDkgs0XS/crow-flying-2023-11-27-05-32-45-utc.gif" alt="Corvo voando">
        <img class="crow crow-4" src="https://i.postimg.cc/HxgrK7qh/black-raven-gliding-and-flying-loop-down-angle-2023-11-27-05-22-31-utc.gif" alt="Corvo voando">
        <img class="crow crow-5" src="https://i.postimg.cc/zDkgs0XS/crow-flying-2023-11-27-05-32-45-utc.gif" alt="Corvo voando">
    </div>

    <div id="form-container" class="form-container survivor-theme">
        <div class="role-selector">
            <button id="survivor-btn" class="role-btn survivor-btn active">Sobrevivente</button>
            <button id="killer-btn" class="role-btn killer-btn">Assassino</button>
        </div>

        <header class="form-header">
            <h1 id="form-title">Sobreviva ou Morra</h1>
        </header>

        <form id="dbd-form" action="https://formspree.io/f/mgvolbyv" method="POST">
            <div id="survivor-form" class="form-section active">
                <input type="text" name="Tipo de Inscrição" value="Sobrevivente - Equipe" hidden>
                <div class="form-group">
                    <label for="team-name-input">Nome da Equipe</label>
                    <input type="text" id="team-name-input" name="Nome da Equipe" required>
                </div>
                <div class="team-section">
                    <h2>Membros da Equipe (4 Jogadores)</h2>
                    <div class="member-grid">
                        <div class="member-card"><div class="form-group"><label for="player1-name">Jogador 1</label><input type="text" id="player1-name" name="Jogador 1 - Nome" required></div><div class="form-group"><label for="player1-id">ID in-game</label><input type="text" id="player1-id" name="Jogador 1 - ID" required></div></div>
                        <div class="member-card"><div class="form-group"><label for="player2-name">Jogador 2</label><input type="text" id="player2-name" name="Jogador 2 - Nome" required></div><div class="form-group"><label for="player2-id">ID in-game</label><input type="text" id="player2-id" name="Jogador 2 - ID" required></div></div>
                        <div class="member-card"><div class="form-group"><label for="player3-name">Jogador 3</label><input type="text" id="player3-name" name="Jogador 3 - Nome" required></div><div class="form-group"><label for="player3-id">ID in-game</label><input type="text" id="player3-id" name="Jogador 3 - ID" required></div></div>
                        <div class="member-card"><div class="form-group"><label for="player4-name">Jogador 4</label><input type="text" id="player4-name" name="Jogador 4 - Nome" required></div><div class="form-group"><label for="player4-id">ID in-game</label><input type="text" id="player4-id" name="Jogador 4 - ID" required></div></div>
                    </div>
                </div>
                 <button type="submit" class="submit-btn">Inscrever Equipe</button>
            </div>

            <div id="killer-form" class="form-section">
                <input type="text" name="Tipo de Inscrição" value="Assassino - Individual" hidden>
                <div class="form-group">
                    <label for="killer-name">Seu Nome de Assassino</label>
                    <input type="text" id="killer-name" name="Nome do Assassino">
                </div>
                <div class="form-group">
                    <label for="killer-id">Seu ID in-game</label>
                    <input type="text" id="killer-id" name="ID do Assassino">
                </div>
                <button type="submit" class="submit-btn">Iniciar a Caçada</button>
            </div>
        </form>
    </div>

    <div id="popup"><div class="popup-content"><h2 id="popup-title">Inscrição Enviada!</h2><p id="popup-message">Dados enviados. Você será redirecionado para o Discord.</p></div></div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const body = document.body;
        const formContainer = document.getElementById('form-container');
        const survivorBtn = document.getElementById('survivor-btn');
        const killerBtn = document.getElementById('killer-btn');
        const survivorForm = document.getElementById('survivor-form');
        const killerForm = document.getElementById('killer-form');
        const formTitle = document.getElementById('form-title');
        
        const survivorInputs = survivorForm.querySelectorAll('input');
        const killerInputs = killerForm.querySelectorAll('input');

        function setFormMode(mode) {
            if (mode === 'survivor') {
                body.classList.remove('killer-mode');
                formContainer.classList.remove('killer-theme');
                formContainer.classList.add('survivor-theme');
                survivorBtn.classList.add('active');
                killerBtn.classList.remove('active');
                survivorForm.classList.add('active');
                killerForm.classList.remove('active');
                formTitle.textContent = "Sobreviva ou Morra";

                survivorInputs.forEach(input => input.required = true);
                killerInputs.forEach(input => input.required = false);
            } else if (mode === 'killer') {
                body.classList.add('killer-mode');
                formContainer.classList.remove('survivor-theme');
                formContainer.classList.add('killer-theme');
                killerBtn.classList.add('active');
                survivorBtn.classList.remove('active');
                killerForm.classList.add('active');
                survivorForm.classList.remove('active');
                formTitle.textContent = "A Caçada Começa";
                
                killerInputs.forEach(input => input.required = true);
                survivorInputs.forEach(input => input.required = false);
            }
        }

        survivorBtn.addEventListener('click', () => setFormMode('survivor'));
        killerBtn.addEventListener('click', () => setFormMode('killer'));
        
        const form = document.getElementById('dbd-form');
        const popup = document.getElementById('popup');
        const popupContent = popup.querySelector('.popup-content');

        form.addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(form);
            const action = form.getAttribute('action');
            const visibleSubmitButton = form.querySelector('.form-section.active .submit-btn');
            const originalButtonText = visibleSubmitButton.textContent;
            
            visibleSubmitButton.textContent = 'Enviando...';
            visibleSubmitButton.disabled = true;

            fetch(action, {
                method: 'POST', body: formData,
                headers: { 'Accept': 'application/json' }
            }).then(response => {
                if (response.ok) {
                    popup.style.display = 'flex';
                    popupContent.style.transform = 'scale(1)';
                    setTimeout(() => {
                        window.location.href = 'https://discord.gg/T4Hbkeyy';
                    }, 4000);
                } else {
                    response.json().then(data => {
                        alert(data.errors.map(error => error.message).join(", ") || 'Ocorreu um problema ao enviar sua inscrição.');
                        visibleSubmitButton.textContent = originalButtonText;
                        visibleSubmitButton.disabled = false;
                    });
                }
            }).catch(error => {
                alert('Erro de conexão. Verifique sua internet e tente novamente.');
                visibleSubmitButton.textContent = originalButtonText;
                visibleSubmitButton.disabled = false;
            });
        });
        
        setFormMode('survivor');
    });
    </script>
</body>
</html>
